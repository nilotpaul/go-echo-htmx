const { build } = require("esbuild");

const b = () =>
  build({
    bundle: true,
    entryPoints: [
      {{- if .UI.HasPreline }}
      "node_modules/preline/preline.js",
      {{- end }}
      {{- if .Extras.HasHTMX }}
      "node_modules/htmx.org/dist/htmx.js",
      {{- end }}
    ],
    entryNames: "[name]",
    platform: "node",
    outdir: "public/bundle",
    loader: { ".node": "file" },
    minify: true,
  });

Promise.all([b()]);
